# AFSBO
Anti-Fraud System for Banking Operations

## 1. Цели проектируемой анти-фрод системы.

### Цель в общем: 
```Ruby
Требуется создать систему для детектирования мошеннических операций при проведение онлайн-платежей для того, чтобы сократить ущерб клиентов от таких операций до 500 тыс. руб. и количество ложных срабатываний до 5%, причем требуется, чтобы система была готова выдерживать rpc порядка 400 запросов в секунду в пике, была разработана в течении 6 месяцав (причем через 3 месяца должен появиться работающий и удовлетворающий требованиям прототип) с бюджетом 10 млн. руб. (не считая зарплаты, но считая арендованные сервера и кластеры) и имела новейшие протоколы шифрования для контроля утечек данных.
```

### Цели по порядку:

- Цели качества системы:
    - Уменьшить ущерб клиентов от мошеннических транзакций до 500 тыс. руб.
    - Доля ложных срабатываний не должна превышать 5%.
    - Система должна быть хорошо защищена от утечек.

- Цели бюджета системы:
    - Бюджет не более 10 млн.руб. (не считая зп)
    - Арендовать нужные MLOps инструменты на YC для реализации проекта.

- Цели времени системы:
    - Сделать за 3 месяца работающий прототип, удовлетворяющий требованиям, в течение следующих 3 месяцов довести до прода.

## 2. Выбор метрики машинного обучения для оптимизации.

Для начала стоит заметить, что мы имеем дело со стандартной задачей бинарной классификации.
Во-вторых, видим, что основными требованиями к качеству - это как и желание предсказывать все возможные мошенические операции, тем самым увеличивая recall, но и не должны сильно обделять presicion, ведь ложных срабатываний должно быть не более 5%. 

Поэтому предлагается использовать F1-score (либо в дальнейшем при исследовании выбрать $F1_{\beta}$-score с некоторым $\beta$, выбранным на этапе анализа, чтобы больше учитывать либо recall, либо precision). 

Вообще, можно сделать так: определим precision в некотором диапазоне, а recall будем максимизировать. 

Как оценить precision? Мы знаем, что на 100 операций приходится 2 мошенических. Причем хотим <= 5 процентов ложных срабатываний. Получаем, что 5 процентов от 98 это грубо 5 операций. Поэтому нужно на 100 человек не более 5 ложных. Таким образом presicion должен быть >= $\frac{2}{7} \approx 0.3$. Это довольно мало. Тем самым нам важно лишь достигнуть precision порядка 30 процентов. Это довольно мало, поэтому кажется, что можно выбрать довольно большое $\beta$ в $F1_{\beta}$, чтобы recall был сильно важнее.

*Итог*: $F1_{\beta}$, где $\beta$ порядка 3-4 для перевеса в сторону recall.

## 3. Анализ особенности проекта.

![](images/canvas.png)
